type Global @entity {
  id: ID!
  swapCount: BigInt!
}

type Source @entity {
  id: ID!
  sourcePayload: Payload!
  destinationPayload: Payload!
  createdAtBlock: BigInt!
  createdAtTimestamp: BigInt!
}

type Packet @entity {
  id: ID!
  chainId: Int!
  payload: Bytes!
  createdAtBlock: BigInt!
  createdAtTimestamp: BigInt!
}

type Destination @entity {
  id: ID!
  failed: Boolean!
}

type Payload @entity { 
  id: ID!
  " Type, SOURCE or DESTINATION"
  type: PayloadType! 
  operations: [Operation!]!
}

type Operation @entity(immutable: true) {
  " txHash:global.swapCount"
  id: ID!
  action: Action!
  value: BigInt!
  data: Bytes!
}

type Action @entity(immutable: true) {
  " Action type, e.g. '1' "
  id: ID! 
  name: String!
}
