type User @entity {
  id: ID!
  stakes: [Stake!] @derivedFrom(field: "user")
  incentives: [Subscription!] @derivedFrom(field: "user")
  subscriptionCount: BigInt!
}


type Token @entity {
  id: ID!
  symbol: String!
  symbolSuccess: Boolean!
  name: String!
  nameSuccess: Boolean!
  decimals: BigInt!
  decimalsSuccess: Boolean!
}

type Stake @entity {
  id: ID!
  user: User!
  token: Token!
  liquidity: BigInt!
  block: BigInt!
  timestamp: BigInt!
}


type Incentive @entity {
  id: ID!
  creator: User!
  token: Token!
  rewardToken: Token!
  rewardRemaining: BigInt!
  startTime: BigInt!
  endTime: BigInt!
  rewardPerLiquidity: BigInt!
  lastRewardTime: BigInt!
  liquidityStaked: BigInt!
  subscribers: [Subscription!] @derivedFrom(field: "incentive")
}

type Subscription @entity {
  id: ID!
  user: User!
  incentive: Incentive!
  token: Token!
  rewardPerLiquidity: BigInt!
  block: BigInt!
  timestamp: BigInt!
}

#TODO: Historical data needed? If so, add Transaction entity for when stake/unstake is taking place?


#TODO: Consider renaming block and timestamp fields, inconsistent usage currently, some are creation, some are on update.
# Could be creationTime, creationBlock, update etc.